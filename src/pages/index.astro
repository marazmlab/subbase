---
import Layout from "@/layouts/Layout.astro";
import { DashboardLayout } from "@/components/dashboard/DashboardLayout";

// Middleware automatycznie ustawia locals.user
const user = Astro.locals.user;

// Przekieruj niezalogowanych użytkowników na stronę logowania
if (!user) {
  return Astro.redirect("/login");
}
---

<Layout title="Dashboard - Subbase">
  <DashboardLayout client:load />
</Layout>
